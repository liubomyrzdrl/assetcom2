(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{128:function(e,a,t){},145:function(e,a,t){},146:function(e,a,t){},194:function(e,a,t){e.exports=t.p+"static/media/market-share-468x258.9277f7c9.jpg"},199:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAwklEQVR4nO3SQQ1CURAEwf0EIUhBCVZBAhJw8pCxh65SMMn0DAAAAAAAAAAAAAAAAAAAAAAAAAAAAACw4zrnvGbmsT2EFb/rnPOemef2ElZ8btsL2CWAOAHECSBOAHECiBNAnADiBBAngDgBxAkgTgBxAogTQJwA4gQQJ4A4AcQJIE4AcQKIE0CcAOIEECeAOAHECSBOAHECiBNAnADiBBB3n5nv9gjW+B4AAAAAAAAAAAAAAAAAAAAAAAAAAAAA1vwBcIQLAJRv8mwAAAAASUVORK5CYII="},243:function(e,a,t){e.exports=t(442)},248:function(e,a,t){},249:function(e,a,t){},251:function(e,a,t){},263:function(e,a,t){},264:function(e,a,t){},439:function(e,a,t){},440:function(e,a,t){},441:function(e,a,t){},442:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(15),l=t.n(r),s=(t(248),t(249),t(46)),o=t(17),i=t.n(o),m=t(20),u=t(14),d=function(e,a){switch(a.type){case"GET_DATA_COMPANY":case"UPDATE_COSTSASSET_COMPANY":case"UPDATE_INCOME_COMPANY":return a.payload;default:return""}},p=Object(n.createContext)(),E=function(e){var a=Object(n.useReducer)(d,[]),t=Object(u.a)(a,2),r=t[0],l=t[1];return Object(n.useEffect)(function(){!function(){var e=Object(m.a)(i.a.mark(function e(){var a,t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/assets");case 3:return a=e.sent,e.next=6,a.json();case 6:t=e.sent,l({type:"GET_DATA_COMPANY",payload:t}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}()()},[]),c.a.createElement("div",null,c.a.createElement(p.Provider,{value:{cstate:r,dispatch:l}},e.children))},f=t(194),g=t.n(f),v=function(){Object(n.useContext)(p).cstate;return c.a.createElement("div",{className:"homepage-cont"},c.a.createElement("h1",null,"Home page"),c.a.createElement("div",{className:"image"},c.a.createElement("img",{src:g.a})))},b=t(32),A=t(473),h=t(475),y=t(476),O=t(210),j=Object(n.createContext)(),x=function(e){var a=Object(n.useState)({isAutentificated:!1,message:"",id:"",role:"",salary:"",assets_pack:""}),t=Object(u.a)(a,2),r=t[0],l=t[1];return c.a.createElement(j.Provider,{value:{austate:r,getCredentionals:function(e,a){console.log("austate"+r.isAutentificated),function(){var t=Object(m.a)(i.a.mark(function t(){var n,c,s,o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={method:"POST",body:JSON.stringify({email:e,password:a}),headers:{Accept:"application/json","Content-Type":"application/json"}},t.next=3,fetch("/api/auth",n);case 3:return c=t.sent,t.next=6,c.json();case 6:if(s=t.sent,console.log("res status"+s.status),console.log("res jdata"+s.message),"err"===s.status)console.log("res message"+s.message),l({isAutentificated:!1,message:s.message}),console.log("res sdfg"+r.message),console.log("res austate"+r.message);else{for(o in s.data)console.log("jdata.data.id"+s.data[o]);l({isAutentificated:!r.isAutentificated,id:s.data.id,role:s.data.role}),console.log("austate.id"+r.id)}case 10:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()()},logOut:function(){l({isAutentificated:!r.isAutentificated})}}},e.children)},_=(t(251),Object(A.a)(function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),N=function(){var e=_(),a=Object(n.useContext)(j),t=a.austate,r=a.logOut;return c.a.createElement("div",{className:e.root},c.a.createElement(h.a,{position:"static"},c.a.createElement(y.a,null,c.a.createElement(O.a,{variant:"h6",className:e.title}," ",c.a.createElement(b.b,{className:"menu-item",to:"/"},c.a.createElement("h3",null,"Home"))," "),t.isAutentificated&&c.a.createElement(b.b,{className:"menu-item",to:"/users"},c.a.createElement("h3",null,"\u041a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456")),t.isAutentificated&&c.a.createElement(b.b,{className:"menu-item",to:"/profile"},c.a.createElement("h3",null,"Profile")),"admin"==t.role&&c.a.createElement(b.b,{className:"menu-item",to:"/admin"},c.a.createElement("h3",null,"Admin")),!t.isAutentificated&&c.a.createElement(b.b,{className:"menu-item",to:"/login"},c.a.createElement("h3",null,"Login")),t.isAutentificated&&c.a.createElement("a",{className:"menu-item",onClick:function(){r()}},"LogOut"))))},C=t(66),w=function(e,a){switch(a.type){case"GET_DATA_USERS":case"UPDATE_DATA_USERS":return a.payload;case"ADD_USER":return[].concat(Object(C.a)(e),[a.payload]);default:return e}},k=Object(n.createContext)(),S=function(e){var a=Object(n.useReducer)(w,[]),t=Object(u.a)(a,2),r=t[0],l=t[1];return Object(n.useEffect)(function(){!function(){var e=Object(m.a)(i.a.mark(function e(){var a,t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/users");case 3:return a=e.sent,e.next=6,a.json();case 6:t=e.sent,l({type:"GET_DATA_USERS",payload:t}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}()()},[]),c.a.createElement("div",null,c.a.createElement(k.Provider,{value:{usdata:r,dispatch:l}},e.children))},T=t(130),D=t.n(T),P=t(480),U=t(486),F=t(479),L=t(478),R=t(477),B=Object(A.a)(function(e){return{container:{display:"flex",flexWrap:"wrap"},button:{margin:e.spacing(1)},root:{padding:e.spacing(3,2)},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},dense:{marginTop:e.spacing(2)},menu:{width:200}}}),M=function(e){var a=Object(n.useContext)(k),t=(a.usdata,a.dispatch),r=c.a.useState(!1),l=Object(u.a)(r,2),s=l[0],o=l[1],d=B();function p(){o(!1)}return c.a.createElement("div",{className:"add_block"},c.a.createElement(D.a,{className:d.icon,onClick:function(){o(!0)}}),c.a.createElement(U.a,{open:s,onClose:p,"aria-labelledby":"form-dialog-title"},c.a.createElement(R.a,{id:"form-dialog-title"}," \u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430"),c.a.createElement(L.a,null),c.a.createElement(F.a,null,c.a.createElement(P.a,{onClick:p,color:"primary"},"\u0412\u0438\u0439\u0442\u0438"),c.a.createElement(P.a,{onClick:function(){!function(){var a=Object(m.a)(i.a.mark(function a(){var n,c,r,l,s;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n={method:"DELETE",body:JSON.stringify({_id:e.id}),headers:{Accept:"application/json","Content-Type":"application/json"}},a.prev=1,a.next=4,fetch("/api/users/".concat(e.id),n);case 4:return c=a.sent,a.next=7,c.json();case 7:r=a.sent,console.log("From PUt"+r),t({type:"ADD_USER",payload:c}),o(!1),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(1),console.log("Error"+a.t0);case 16:return a.prev=16,a.next=19,fetch("/api/users");case 19:return l=a.sent,a.next=22,l.json();case 22:s=a.sent,console.log("Users as"),t({type:"UPDATE_DATA_USERS",payload:s}),a.next=30;break;case 27:a.prev=27,a.t1=a.catch(16),console.log(a.t1);case 30:case"end":return a.stop()}},a,null,[[1,13],[16,27]])}));return function(){return a.apply(this,arguments)}}()()},color:"primary"},"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"))))},J=(t(145),function(e){var a=Object(n.useContext)(k),t=(a.usdata,a.dispatch,Object(n.useContext)(j).austate);return c.a.createElement("div",{className:"item-block"},c.a.createElement("div",{className:"user-name_block"},c.a.createElement("div",{className:"user-name_title"},"\u0406\u043c'\u044f"),c.a.createElement("hr",null),c.a.createElement("h5",null,e.first_name)),c.a.createElement("div",{className:"user-name_block"},c.a.createElement("div",{className:"user-name_title"},"\u041f\u0440\u0456\u0437\u0432\u0438\u0449\u0435"),c.a.createElement("hr",null),c.a.createElement("h5",null,e.last_name)),"admin"===t.role&&c.a.createElement("div",{className:"user-name_private"},c.a.createElement("div",{className:"user-name_prblock"},c.a.createElement("div",{className:"user-name_prblock_title"},c.a.createElement("div",{className:"user-name_ptitle"},"\u0421\u0442\u0430\u0432\u043a\u0430"),c.a.createElement("hr",null)),c.a.createElement("h5",null,e.salary)),c.a.createElement("div",{className:"user-name_prblock"},c.a.createElement("div",{className:"user-name_ptitle"},"\u041f\u0430\u043a\u0435\u0442_\u0430\u043a\u0446\u0456\u0439"),c.a.createElement("hr",null),c.a.createElement("h5",null,e.assets_pack))),"admin"===t.role&&c.a.createElement("div",{className:"delete-cont"},c.a.createElement(M,{id:e._id})))}),I=t(25),G=t(29),W=t(484),K=t(481),Q=t(4),Y=t(198),H=Object(A.a)(function(e){return{container:{display:"flex",flexWrap:"wrap"},button:{margin:e.spacing(1)},root:{padding:e.spacing(3,2)},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},dense:{marginTop:e.spacing(2)},menu:{width:200}}}),V=function(e){var a=Object(n.useContext)(k),t=(a.usdata,a.dispatch),r=c.a.useState(!1),l=Object(u.a)(r,2),s=l[0],o=l[1],d=c.a.useState({first_name:"",last_name:"",email:"",password:"",role:"",salary:"",assets_pack:""}),p=Object(u.a)(d,2),E=p[0],f=p[1],g=H();function v(){o(!1)}c.a.useEffect(function(){Object(Y.loadCSS)("https://use.fontawesome.com/releases/v5.1.0/css/all.css",document.querySelector("#font-awesome-css"))},[]);var b,A,h,y,O,j;return c.a.createElement("div",{className:"add_block"},c.a.createElement(K.a,{className:Object(Q.a)(g.icon,"fa fa-plus-circle"),color:"action",onClick:function(){o(!0)}}),c.a.createElement(U.a,{open:s,onClose:v,"aria-labelledby":"form-dialog-title"},c.a.createElement(R.a,{id:"form-dialog-title"},"\u0414\u043e\u0434\u0430\u0442\u0438 \u043d\u043e\u0432\u043e\u0433\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u044f\u0430"),c.a.createElement(L.a,null,c.a.createElement("form",{className:g.container,noValidate:!0,autoComplete:"off"},c.a.createElement(W.a,{id:"first-name",label:"\u0406\u043c'\u044f",className:g.textField,value:E.first_name,onChange:(j="first_name",function(e){f(Object(G.a)({},E,Object(I.a)({},j,e.target.value)))}),margin:"normal"}),c.a.createElement(W.a,{id:"last-name",label:"\u041f\u0440\u0456\u0437\u0432\u0438\u0449\u0435",className:g.textField,value:E.last_name,onChange:(O="last_name",function(e){f(Object(G.a)({},E,Object(I.a)({},O,e.target.value)))}),margin:"normal"}),c.a.createElement(W.a,{id:"email",label:"email",className:g.textField,value:E.email,onChange:(y="email",function(e){f(Object(G.a)({},E,Object(I.a)({},y,e.target.value)))}),margin:"normal"}),c.a.createElement(W.a,{id:"password",label:"password",className:g.textField,value:E.password,onChange:(h="password",function(e){f(Object(G.a)({},E,Object(I.a)({},h,e.target.value)))}),margin:"normal"}),c.a.createElement(W.a,{id:"salary",select:!0,label:" ",className:g.textField,value:E.currency,onChange:(A="salary",function(e){f(Object(G.a)({},E,Object(I.a)({},A,e.target.value)))}),SelectProps:{native:!0,MenuProps:{className:g.menu}},helperText:"\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0438 \u0441\u0442\u0430\u0432\u043a\u0443",margin:"normal"},[{value:"1000",label:"1000"},{value:"2000",label:"2000"}].map(function(e){return c.a.createElement("option",{key:e.value,value:e.value},e.label)})),c.a.createElement(W.a,{id:"role",select:!0,label:" ",className:g.textField,value:E.currency,onChange:(b="role",function(e){f(Object(G.a)({},E,Object(I.a)({},b,e.target.value)))}),SelectProps:{native:!0,MenuProps:{className:g.menu}},helperText:"\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0438 \u0434\u043e\u0441\u0442\u0443\u043f",margin:"normal"},[{value:"admin",label:"admin"},{value:"regular",label:"regular"}].map(function(e){return c.a.createElement("option",{key:e.value,value:e.value},e.label)})))),c.a.createElement(F.a,null,c.a.createElement(P.a,{onClick:v,color:"primary"},"\u0412\u0438\u0439\u0442\u0438"),c.a.createElement(P.a,{disabled:""===E.first_name||""===E.last_name||""===E.email||""===E.password||""===E.role||""===E.salary,onClick:function(){!function(){var e=Object(m.a)(i.a.mark(function e(){var a,n,c,r,l;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",body:JSON.stringify({first_name:E.first_name,last_name:E.last_name,email:E.email,password:E.password,role:E.role,salary:E.salary,assets_pack:0}),headers:{Accept:"application/json","Content-Type":"application/json"}},e.prev=1,e.next=4,fetch("/api/users/",a);case 4:return n=e.sent,e.next=7,n.json();case 7:c=e.sent,console.log("From PUt"+c),t({type:"ADD_USER",payload:n}),o(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log("Error"+e.t0);case 16:return e.prev=16,e.next=19,fetch("/api/users");case 19:return r=e.sent,e.next=22,r.json();case 22:l=e.sent,console.log("Users as"+l),t({type:"UPDATE_DATA_USERS",payload:l}),e.next=30;break;case 27:e.prev=27,e.t1=e.catch(16),console.log(e.t1);case 30:case"end":return e.stop()}},e,null,[[1,13],[16,27]])}));return function(){return e.apply(this,arguments)}}()(),f(E.first_name=" ",E.last_name=" ",E.email="",""===E.password),o(!1)},color:"primary"},"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"))))},z=function(){var e=Object(n.useContext)(k).usdata,a=Object(n.useContext)(j).austate;console.log("EEdata"+e);var t=e.map(function(e,a){return c.a.createElement(J,Object.assign({},e,{key:a}))});return c.a.createElement("div",{className:"newsitem-container"},"admin"===a.role&&c.a.createElement("div",{className:"newsitem-container_content"},c.a.createElement(V,null),c.a.createElement("div",{className:"newsitem-container_title"}," \u0414\u043e\u0434\u0430\u0442\u0438 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430")),c.a.createElement("div",{className:"user-container"},t))},q=t(482),X=t(483),Z=t(200),$=t.n(Z),ee=t(199),ae=t.n(ee),te=(t(263),Object(A.a)(function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200}}})),ne=function(e){var a=c.a.useState(!1),t=Object(u.a)(a,2),r=t[0],l=t[1],s=Object(n.useState)(e.assets_pack),o=Object(u.a)(s,2),d=o[0],E=o[1],f=Object(n.useState)(e.salary),g=Object(u.a)(f,2),v=g[0],b=g[1],A=Object(n.useContext)(k),h=(A.ustate,A.dispatch),y=Object(n.useContext)(p).cstate,O=te(),j=y.income*y.costassets/100,x=e.salary-(d*j).toFixed(4);function _(){l(!1)}return c.a.createElement("div",{className:"buy-assets_block"},c.a.createElement(P.a,{variant:"outlined",color:"secondary",onClick:function(){l(!0)}},"\u041a\u0443\u043f\u0438\u0442\u0438/\u041f\u0440\u043e\u0434\u0430\u0442\u0438  \u0430\u043a\u0446\u0456\u0457 \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u0457"),c.a.createElement(U.a,{open:r,onClose:_,"aria-labelledby":"form-dialog-title"},c.a.createElement(R.a,{id:"form-dialog-title"},"\u0417\u043c\u0456\u043d\u0438\u0442\u0438"),c.a.createElement(L.a,null,c.a.createElement(q.a,null," \u041a\u0443\u043f\u0438\u0442\u0438/\u041f\u0440\u043e\u0434\u0430\u0442\u0438  \u0430\u043a\u0446\u0456\u0457 \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u0457."),c.a.createElement(L.a,null,c.a.createElement("div",null,"\u0414\u043e\u0445\u0456\u0434 \u043f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a\u0430 ",x.toFixed(2)," "),c.a.createElement("div",null,"\u0421\u0442\u0430\u0432\u043a\u0430 ",v.toFixed(2))),c.a.createElement("form",{className:O.container,autoComplete:"off"},c.a.createElement("div",{className:"asset-counter_block"},c.a.createElement(X.a,{color:"secondary",size:"medium","aria-label":"delete",className:O.fab,onClick:function(){0===d?E(0):(E(Number(d)-1),console.log("minus"+(v-j).toFixed(4)),b(v-j))}},c.a.createElement("div",{className:"buyassets-minus_icon"},c.a.createElement("img",{src:ae.a}))),c.a.createElement(W.a,{id:"outlined-name",value:d,label:"\u041f\u0430\u043a\u0435\u0435 \u0430\u043a\u0446\u0456\u0439",className:O.textField,margin:"normal",variant:"outlined"}),c.a.createElement(X.a,{color:"secondary",size:"medium","aria-label":"add",className:O.fab,onClick:function(){x<=0?E(Number(d)):(E(Number(d)+1),console.log("Add To"+(v+j).toFixed(4)),b(v+j))}},c.a.createElement($.a,null))))),c.a.createElement(F.a,null,c.a.createElement(P.a,{onClick:_,color:"primary"},"\u0412\u0438\u0439\u0442\u0438"),c.a.createElement(P.a,{onClick:function(){!function(){var a=Object(m.a)(i.a.mark(function a(){var t,n,c,r,s,o;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t={method:"PUT",body:JSON.stringify({salary:v.toFixed(2),assets_pack:d}),headers:{Accept:"application/json","Content-Type":"application/json"}},a.prev=1,a.next=4,fetch("/api/users/asses/".concat(e.id),t);case 4:return n=a.sent,a.next=7,n.json();case 7:c=a.sent,console.log("From PUt"+c),l(!1),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(1),console.log("Error"+a.t0);case 15:return a.prev=15,a.next=18,fetch("/api/users");case 18:return r=a.sent,a.next=21,r.json();case 21:for(o in s=a.sent)console.log("Users as"+s[o].salary);h({type:"UPDATE_DATA_USERS",payload:s}),a.next=29;break;case 26:a.prev=26,a.t1=a.catch(15),console.log(a.t1);case 29:case"end":return a.stop()}},a,null,[[1,12],[15,26]])}));return function(){return a.apply(this,arguments)}}()()},color:"primary"},"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"))))},ce=(t(146),function(){var e=Object(n.useContext)(j).austate,a=Object(n.useContext)(k).usdata.filter(function(a,t){return a._id===e.id}),t=null,r=null,l=null,s=null;for(var o in a)t=a[o].first_name,r=a[o].last_name,l=a[o].salary,s=a[o].assets_pack;return c.a.createElement("div",{className:"profile-cont"},c.a.createElement("div",{className:"profile-cont_inf"},c.a.createElement("div",{className:"profile-cont_names"},c.a.createElement("div",{className:"profile-cont_fname"}," ",t," ",r)),c.a.createElement("div",{className:"profile-cont_assets"},c.a.createElement("div",null,"\u041f\u0430\u043a\u0435\u0442 \u0430\u043a\u0446\u0456\u0439"),c.a.createElement("div",{className:"profile-cont_comer"},"  ",s," ")),c.a.createElement("div",{className:"profile-cont_salary"},c.a.createElement("div",null," \u0417\u0430\u0440\u043f\u043b\u0430\u0442\u0430"),c.a.createElement("div",{className:"profile-cont_comer"}," ",l))),c.a.createElement("div",{className:"comer-block"},c.a.createElement(ne,{className:"comer-block_a",assets_pack:s,id:e.id,salary:l})))}),re=t(201),le=function(e){var a=e.component,t=Object(re.a)(e,["component"]),r=Object(n.useContext)(j).austate;return console.log("isAutentificated"+r.isAutentificated),c.a.createElement(s.b,Object.assign({},t,{render:function(e){return r.isAutentificated?c.a.createElement(s.a,{to:{pathname:"/profile"}}):c.a.createElement(a,e)}}))},se=(t(264),Object(A.a)(function(e){return{container:{display:"flex",flexWrap:"wrap",flexDirection:"column",alignItems:"center"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200},dense:{marginTop:19},menu:{width:200}}})),oe=function(){var e,a,t=Object(n.useState)({email:"",password:""}),r=Object(u.a)(t,2),l=r[0],s=r[1],o=Object(n.useContext)(j).austate,i=Object(n.useContext)(j).getCredentionals,m=se();return c.a.createElement("div",{className:"form-container"},"Login",c.a.createElement("form",{className:m.container,onSubmit:function(e){e.preventDefault(),s(Object(G.a)({},l,{password:"",email:""})),i(l.email,l.password)}},c.a.createElement(W.a,{required:!0,id:"email",label:"email",value:l.email,onChange:(a="email",function(e){s(Object(G.a)({},l,Object(I.a)({},a,e.target.value)))}),className:m.textField,margin:"normal"}),c.a.createElement(W.a,{required:!0,id:"password",label:"Password",value:l.password,className:m.textField,type:"password",onChange:(e="password",function(a){s(Object(G.a)({},l,Object(I.a)({},e,a.target.value)))}),autoComplete:"current-password",margin:"normal"}),c.a.createElement(P.a,{variant:"contained",disabled:""===l.email||""===l.password,onChange:void 0,type:"submit",size:"medium",color:"primary",className:m.margin},"Login")),c.a.createElement("div",null," ",""==o.message?"":c.a.createElement("div",{style:{color:"red"}},o.message)))},ie=function(e,a){switch(a.type){case"GET_STAT_DATA":return a.payload;case"POST_STAT_DATA":return[].concat(Object(C.a)(e),[a.payload]);default:return e}},me=Object(n.createContext)(),ue=function(e){var a=Object(n.useReducer)(ie,[]),t=Object(u.a)(a,2),r=t[0],l=t[1];return Object(n.useEffect)(function(){fetch("/api/stat").then(function(e){return e.json()}).then(function(e){l({type:"GET_STAT_DATA",payload:e})})},[]),c.a.createElement("div",null,c.a.createElement(me.Provider,{value:{ststate:r,stdispath:l}},e.children))},de=t(22),pe=(t(128),function(){var e=Object(n.useContext)(me).ststate,a=Object(n.useState)({}),t=Object(u.a)(a,2);t[0],t[1];return c.a.createElement("div",{className:"company-income_stat"},c.a.createElement("h3",{className:"company-income_stat"},"\u0414\u043e\u0445\u043e\u0434\u0438 \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u0457"),c.a.createElement(de.d,{width:1e3,height:300,data:e,margin:{top:5,right:30,left:20,bottom:5}},c.a.createElement(de.f,{dataKey:"last_changes"}),c.a.createElement(de.g,null),c.a.createElement(de.a,{strokeDasharray:"3 3"}),c.a.createElement(de.e,null),c.a.createElement(de.b,null),c.a.createElement(de.c,{type:"monotone",dataKey:"company_income",stroke:"#8884d8",activeDot:{r:8}})))}),Ee=function(){var e=Object(n.useContext)(me).ststate,a=Object(n.useState)({}),t=Object(u.a)(a,2);t[0],t[1];return c.a.createElement("div",{className:"users-income_stat"},c.a.createElement("h3",{className:"user-income_stat"},"\u0414\u043e\u0445\u043e\u0434\u0438 \u043f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a\u0456\u0432"),c.a.createElement(de.d,{width:1e3,height:300,data:e,margin:{top:5,right:30,left:20,bottom:5}},c.a.createElement(de.f,{dataKey:"last_changes"}),c.a.createElement(de.g,null),c.a.createElement(de.a,{strokeDasharray:"3 3"}),c.a.createElement(de.e,null),c.a.createElement(de.b,null),c.a.createElement(de.c,{type:"monotone",dataKey:"user_income",stroke:"#82ca9d",activeDot:{r:8}})))},fe=t(443),ge=function(){Object(n.useContext)(me).ststate;return c.a.createElement(fe.a,{className:"stat-block"},c.a.createElement(pe,null),c.a.createElement(Ee,null))},ve=Object(A.a)(function(e){return{container:{display:"flex",flexWrap:"wrap"},button:{margin:e.spacing(1)},root:{padding:e.spacing(3,2)},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},dense:{marginTop:e.spacing(2)},menu:{width:200}}}),be=function(e){var a=c.a.useState(!1),t=Object(u.a)(a,2),r=t[0],l=t[1],s=c.a.useState({costassets:"",message:""}),o=Object(u.a)(s,2),d=o[0],E=o[1],f=ve(),g=Object(n.useContext)(p),v=(g.cstate,g.dispatch);for(var b in e)console.log("props"+e[b]);function A(){l(!1)}var h;return c.a.createElement("div",null,c.a.createElement(P.a,{variant:"outlined",color:"primary",onClick:function(){l(!0)}},"\u0417\u043c\u0456\u043d\u0438\u0442\u0438 \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u043d\u0443 \u0441\u0442\u0430\u0432\u043a\u0443 \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u0457"),c.a.createElement(U.a,{open:r,onClose:A,"aria-labelledby":"form-dialog-title"},c.a.createElement(R.a,{id:"form-dialog-title"},"\u0417\u043c\u0456\u043d\u0438\u0442\u0438"),c.a.createElement(L.a,null,c.a.createElement(q.a,null,"\u0417\u043c\u0456\u043d\u0438\u0442\u0438 \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u043d\u0443 \u0441\u0442\u0430\u0432\u043a\u0443 \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u0457 ."),c.a.createElement("form",{className:f.container,noValidate:!0,autoComplete:"off"},c.a.createElement(W.a,{id:"outlined-name",label:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442\u043d\u0430 \u0441\u0442\u0430\u0432\u043a\u0430",className:f.textField,onChange:(h="costassets",function(e){E(Object(G.a)({},d,Object(I.a)({},h,e.target.value)))}),margin:"normal",variant:"outlined"}))),c.a.createElement(F.a,null,c.a.createElement(P.a,{onClick:A,color:"primary"},"\u0412\u0438\u0439\u0442\u0438"),c.a.createElement(P.a,{disabled:""===d.costassets,onClick:function(){!function(){var e=Object(m.a)(i.a.mark(function e(){var a,t,n,c;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"PUT",body:JSON.stringify({costassets:d.costassets}),headers:{Accept:"application/json","Content-Type":"application/json"}},e.prev=1,e.next=4,fetch("/api/assets",a);case 4:return t=e.sent,e.next=7,t.json();case 7:for(c in n=e.sent,console.log("From PUt"+n),n)console.log("UPDATE_COSTSASSET_COMPANY"+n[c]);v({type:"UPDATE_COSTSASSET_COMPANY",payload:n}),l(!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.log("Error"+e.t0);case 17:case"end":return e.stop()}},e,null,[[1,14]])}));return function(){return e.apply(this,arguments)}}()()},color:"primary"},"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"))))},Ae=function(e){var a=c.a.useState(!1),t=Object(u.a)(a,2),r=t[0],l=t[1],s=c.a.useState({updateStatistic:!0}),o=Object(u.a)(s,2),d=o[0],E=o[1],f=Object(n.useContext)(p),g=f.cstate,v=f.dispatch,b=Object(n.useContext)(me),A=(b.ststate,b.stdispath),h=function(){E({updateStatistic:!d.updateStatistic})};function y(){l(!1)}return c.a.createElement("div",null,c.a.createElement(P.a,{variant:"outlined",color:"primary",onClick:function(){l(!0)}},"\u0420\u043e\u0437\u0440\u0430\u0445\u0443\u043d\u043e\u043a \u0434\u043e\u0445\u043e\u0434\u0456\u0432 \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u0457"),c.a.createElement(U.a,{open:r,onClose:y,"aria-labelledby":"form-dialog-title"},c.a.createElement(R.a,{id:"form-dialog-title"}," \u0420\u043e\u0437\u0440\u0430\u0445\u0443\u043d\u043e\u043a \u0434\u043e\u0445\u043e\u0434\u0456\u0432 \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u0457 \u0441\u0442\u0430\u043d\u043e\u043c \u043d\u0430 ",(new Date).toLocaleString()),d.updateStatistic?c.a.createElement(L.a,null,c.a.createElement(L.a,null,c.a.createElement(q.a,null,"\u0414\u043e\u0445\u0456\u0434 \u043a\u043e\u043c\u0430\u043d\u0456\u0457 "),"  ",c.a.createElement(q.a,{style:{color:"red"}},Number(g.income)+3e3),c.a.createElement(q.a,null,"   \u0412\u0438\u0434\u0430\u0442\u043a\u0438  \u043a\u043e\u043c\u0430\u043d\u0456\u0457 \u043d\u0430 \u0437\u0430\u0440\u043e\u0431\u0456\u0442\u043d\u0443 \u043f\u043b\u0430\u043d\u0443 \u043f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a\u0430\u043c  ")," ",c.a.createElement(q.a,{style:{color:"red"}},Number(e.salary))),c.a.createElement(F.a,null,c.a.createElement(P.a,{onClick:y,color:"primary"},"\u0412\u0438\u0439\u0442\u0438"),c.a.createElement(P.a,{onClick:h,color:"primary"},"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"))):c.a.createElement(L.a,null,c.a.createElement(L.a,null,c.a.createElement(q.a,null,"  \u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0434\u0430\u043d\u0456 \u0432 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u0438\u0445;  "),c.a.createElement(L.a,null,c.a.createElement(q.a,null,"\u0414\u0430\u0445\u0456\u0434 \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u0457(\u0414\u043e\u0445\u0456\u0434- \u0417\u041f \u043f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a\u0456\u0432) \u0441\u0442\u0430\u043d\u043e\u043c \u043d\u0430 ",(new Date).toLocaleString().slice(0,10)),c.a.createElement(q.a,{style:{color:"red"}},(Number(g.income+3e3)-e.salary).toFixed(2))),c.a.createElement(L.a,null,c.a.createElement(q.a,null,"\u0417\u0430\u0440\u043e\u0431\u0456\u043d\u0430 \u043f\u043b\u0430\u0442\u0430 \u043f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a\u0456\u0432 \u0441\u0442\u0430\u043d\u043e\u043c \u043d\u0430 ",(new Date).toLocaleString().slice(0,10)," "),c.a.createElement(q.a,{style:{color:"red"}},e.salary,"  "))),c.a.createElement(L.a,null,c.a.createElement(P.a,{onClick:h,color:"primary"},"\u041d\u0430\u0437\u0430\u0434"),c.a.createElement(P.a,{onClick:y,color:"primary"},"\u0412\u0438\u0439\u0442\u0438"),c.a.createElement(P.a,{onClick:function(){console.log("Save Changes"),l(!1),function(){var a=Object(m.a)(i.a.mark(function a(){var t,n,c,r,s,o,m;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t={method:"PUT",body:JSON.stringify({income:(g.income-e.salary+3e3).toFixed(2)}),headers:{Accept:"application/json","Content-Type":"application/json"}},a.prev=1,a.next=4,fetch("/api/assets/inincome",t);case 4:return n=a.sent,a.next=7,n.json();case 7:c=a.sent,console.log("From PUt"+c),v({type:"UPDATE_INCOME_COMPANY",payload:c}),l(!0),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(1),console.log("Error"+a.t0);case 16:return r={method:"POST",body:JSON.stringify({last_changes:(new Date).toLocaleString().slice(0,10),company_income:(g.income-e.salary+3e3).toFixed(2),user_income:e.salary}),headers:{Accept:"application/json","Content-Type":"application/json"}},a.prev=17,a.next=20,fetch("/api/stat",r);case 20:return s=a.sent,a.next=23,s.json();case 23:for(m in o=a.sent)console.log("From PUt"+o[m]);A({type:"POST_STAT_DATA",payload:o}),l(!1),a.next=32;break;case 29:a.prev=29,a.t1=a.catch(17),console.log("Error"+a.t1);case 32:case"end":return a.stop()}},a,null,[[1,13],[17,29]])}));return function(){return a.apply(this,arguments)}}()()},color:"primary"},"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0432\u0441\u0456 \u0437\u043c\u0456\u043d\u0438")))))},he=(t(439),function(){var e=Object(n.useContext)(p).cstate,a=Object(n.useContext)(k).usdata;console.log(a);var t=0;for(var r in a)t+=a[r].salary;return console.log("SAAAAAKLLLLL"+t),c.a.createElement(fe.a,{className:"manag-cont"},c.a.createElement("div",{className:"manag-title"},c.a.createElement("h3",null,"Managment")),c.a.createElement("div",{className:"manag-inf"},c.a.createElement("div",{className:"manag-inf_cont"},c.a.createElement("div",null,"\u041f\u043e\u0442\u043e\u0447\u043d\u0438\u0439 \u0434\u043e\u0445\u0456\u0434 \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u0457    "),c.a.createElement("div",{className:"manag-inf_cont_inf",style:{color:"red"}}," ",e.income," ")),c.a.createElement("div",{className:"manag-inf_cont"},c.a.createElement("div",null," \u041f\u0440\u043e\u0446\u0435\u043d\u0442\u043d\u0430 \u0441\u0442\u0430\u0432\u043a\u0430    "),c.a.createElement("div",{className:"manag-inf_cont_inf_ass",style:{color:"red"}},e.costassets,"   ")),c.a.createElement("div",{className:"manag-inf_cont"},c.a.createElement("div",null," \u0429\u043e\u043c\u0456\u0441\u044f\u0447\u043d\u0435 \u043d\u0430\u0440\u0430\u0445\u0443\u0432\u0430\u043d\u043d\u044f     "),c.a.createElement("div",{className:"manag-inf_cont_inf",style:{color:"red"}}," ",e.month_income,"  "))),c.a.createElement("div",{className:"manag-adg"},c.a.createElement("div",{className:"manag-adg_cost_ass"},c.a.createElement(be,null)),c.a.createElement("div",{className:"manag-adg_cost_ass"},c.a.createElement(Ae,{salary:t}))))}),ye=(t(440),function(){return c.a.createElement("div",{className:"admin-block"},c.a.createElement("div",{className:"admin-title_block"},c.a.createElement("h3",null,"Administrator")),c.a.createElement("div",{className:"admin-secs_block"},c.a.createElement("div",{className:"manag-block"},c.a.createElement("div",{className:"manag-block_cont"},c.a.createElement(he,null))),c.a.createElement("div",{className:"stat-blockinf"},c.a.createElement(ge,null))))}),Oe=(t(441),function(){return c.a.createElement("div",{className:"footer"},c.a.createElement("div",{className:"footer-title"},"@All rights reserved"))}),je=function(){var e=Object(n.useContext)(j).austate;return c.a.createElement("div",{className:"App"},c.a.createElement(N,null),c.a.createElement(s.d,null,c.a.createElement(s.b,{path:"/",exact:!0,component:v}),e.isAutentificated&&c.a.createElement(s.b,{path:"/users",component:z}),e.isAutentificated?c.a.createElement(s.b,{path:"/profile",component:ce}):c.a.createElement(s.b,{path:"/",exact:!0,render:function(e){return c.a.createElement(v,{isLoading:!0})}}),"admin"===e.role?c.a.createElement(s.d,null,c.a.createElement(s.b,{path:"/admin",exact:!0,component:ye})):c.a.createElement(s.b,{path:"/",exact:!0,render:function(e){return c.a.createElement(v,{isLoading:!0})}}),c.a.createElement(le,{path:"/login",component:oe})),c.a.createElement(Oe,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var xe=t(27),_e=Object(xe.a)();l.a.render(c.a.createElement(b.a,{history:_e},c.a.createElement(E,null,c.a.createElement(S,null,c.a.createElement(x,null,c.a.createElement(ue,null,c.a.createElement(je,null)))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[243,1,2]]]);
//# sourceMappingURL=main.af7f57ef.chunk.js.map